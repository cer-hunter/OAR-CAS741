\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for OAR}

\author{Hunter Ceranic}

\date{March 8, 2024}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
March 8, 2024 & 1.0 & Initial Revision\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation \citep{SRS} at \url{https://github.com/cer-hunter/OAR-CAS741/blob/main/docs/SRS/SRS.pdf}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
the OAR (Optical Alphabet Recognition) program. This document specifies how each module
interfaces with other parts of the program.

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{https://github.com/cer-hunter/OAR-CAS741}. 

\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by OAR. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
positive integer $\mathbb{Z}_{+}$ a positive integer ($\mathbb{Z}$) in ($0$, $\infty$) \\
unsigned 8-bit integer $\mathbb{U}$ a number without a fractional component in ($0$, $255$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
positive real $\mathbb{R}_{+}$ any real number ($\mathbb{R}$) in ($0$, $\infty$) \\
image data $\mathbb{I}_{x, y}$ \code{data}: a one-dimensional array of unsigned 8-bit integers in order from the 
top-left pixel of the image to the bottom-right pixel. Has a \code{width}: $\mathbb{Z}_{+}$ width of \textit{x} and 
\code{height}: $\mathbb{Z}_{+}$ height of \textit{y}.\\
matrix $\mathbb{M}_{x, y}$ \code{data}: a one-dimensional array of real numbers, with a 
\code{width}: $\mathbb{Z}_{+}$ width of \textit{x} and \code{height}: $\mathbb{Z}_{+}$ height of \textit{y}.\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of OAR uses some derived data types: sequences, strings,
tuples, and booleans. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. Booleans can be represented in different ways but only have two possible values: true or false. In addition, 
OAR uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
  \centering
  \begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
  \toprule
  \textbf{Level 1} & \textbf{Level 2}\\
  \midrule
    
  {Hardware-Hiding Module} & ~\\
  \midrule
    
  \multirow{8}{0.3\textwidth}{Behaviour-Hiding Module}
    & Application Control \\
    & Output Module\\
    & Input Data Read Module \\
    & Input Classifier Module\\
    & OAR Model Data Module \\
    & OAR Model Equations Module \\
    & OAR Model Training Module \\
    & OAR Model Testing Module \\
    \midrule
    
    \multirow{3}{0.3\textwidth}{Software Decision Module}
      & Confusion Matrix Module \\
      & Input Processing Module \\
      & Graphical User Interface \\
    \bottomrule
    
    \end{tabular}
  \caption{Module Hierarchy}
  \label{TblMH}
  \end{table}
  
\newpage
~\newpage

\section{MIS of Application Control Module} \label{ModuleAC} 

\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\code{main} \mref{mAC}

\subsection{Uses}

\begin{itemize}
  \item Graphical User Interface (GUI) Module Specification \ref{ModuleGUI}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{main} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None.

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

The GUI is running and displayed without issue.

\subsubsection{Access Routine Semantics}

\noindent \code{main}():
\begin{itemize}
  \item transition: Initializes the program and the GUI module \mref{mGUI}
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of Output Module} \label{ModuleO} 


\subsection{Module}

\code{output}

\subsection{Uses}

\begin{itemize}
  \item Input Data Read Module Specification \ref{ModuleIDR}
  \item Input Classifier Module Specification \ref{ModuleIC}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{itemize}
  \item \code{DEC_FIXED}: Used for fixed decimal number length rounding (ex. "5.8923" at fixed length "2" results in "5.89")
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{output} & - & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{resultLabel} (String), \code{resultConf} (String) & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None.

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

The input image is valid.

\subsubsection{Access Routine Semantics}

\noindent \code{output}():
\begin{itemize}
\item output: The \code{inputImage} as ($\mathbb{I}_{x, y}$) and the predicted label \code{resultLabel} and
 confidence in the classification \code{resultConf} as strings, to be used by the GUI module \mref{mGUI}.
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of Input Data Read Module} \label{ModuleIDR} 

\subsection{Module}

\code{input}

\subsection{Uses}

\begin{itemize}
  \item Input Processing Module Specification \ref{ModuleIP}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{itemize}
  \item \code{MAX_SIZE}: A value ($\mathbb{Z}_{+}$) describing both width and height (in pixels) for maximum acceptable 
size of the input image (currently a square).
  \item \code{MIN_SIZE}: A value ($\mathbb{Z}_{+}$) describing both width and height (in pixels) for minimum acceptable 
size of the input image (currently a square).
  \item \code{MODEL_IMG_SIZE}: The required size of the input image matrix to be used by the classification model $\mathbb{I}_{x, y}$.
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{input} & \code{inputPath} (String) & \code{inputImage} ($\mathbb{I}_{x, y}$) & \code{InvalidSize}, \code{InvalidFormat} \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None.

\subsubsection{Environment Variables}

\begin{itemize}
  \item \code{inputPath}: the File System path or location as a string pointing to where the base input image is located.
\end{itemize}

\subsubsection{Assumptions}

The input path location is valid, readable and accessible.

\subsubsection{Access Routine Semantics}

\noindent \code{input}(inputPath):
\begin{itemize}
\item output: Pre-processed \code{inputImage} as $\mathbb{I}_{x, y}$ ready for classification.
\item exception: \code{InvalidSize} if the size of the base image is outside of the range of 
\code{MIN_SIZE} - \code{MAX_SIZE}, \code{InvalidFormat} if the file type at the \code{inputPath} is not 
supported by the OAR Program (according to \rref{R1})
\end{itemize}

\subsubsection{Local Functions}

None.


\section{MIS of Input Classifier Module} \label{ModuleIC} 

\subsection{Module}

\code{classify}

\subsection{Uses}

\begin{itemize}
  \item OAR Model Data Module Specification \ref{ModuleOMD}
  \item OAR Model Equations Module Specification \ref{ModuleOME}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{classify} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{oarModel} ($\mathbb{M}_{x, y}$) & \code{resultLabel} (String), \code{confPercent} $\mathbb{R}_{+}$ & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None.

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

The input image is valid.

\subsubsection{Access Routine Semantics}

\noindent \code{classify}(inputImage):
\begin{itemize}
\item output: The predicted label of the input image \code{resultLabel} as a String and the associated confidence level in the 
prediction as a $\mathbb{R}_{+}$.
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of OAR Model Data Module} \label{ModuleOMD} 

\subsection{Module}

\code{model}

\subsection{Uses}

\begin{itemize}
  \item OAR Model Testing Module Specification \ref{ModuleOMTs}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{model} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item \code{oarModel}: Data structure designed to store the matrix of weights and biases associated
   with the trained OAR classification model as a tuple of $\mathbb{M}_{x, y}$ and $\mathbb{R}$.
  \item \code{performance}: Data structure designed to store the matrix of that performance of the 
  trained OAR classification model for each label as $\mathbb{M}_{x, y}$.
\end{itemize}

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

None.

\subsubsection{Access Routine Semantics}

\noindent \code{model}():
\begin{itemize}
\item transition: This module is a simple tuple ($\mathbb{M}_{x, y}$ and $\mathbb{R}$) data structure for storing the OAR classification model weights and biases, and performance.
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of OAR Model Equations Module} \label{ModuleOME} 

\subsection{Module}

\code{oarUtils}

\subsection{Uses}

None.

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{sigmoid} & \code{sigIn} ($\mathbb{R}$) & \code{sigOut} ($\mathbb{R}$) & - \\
\code{logLossFunc} & \code{trueVal} ($\mathbb{R}$), \code{predVal} ($\mathbb{R}$) & \code{logLoss} ($\mathbb{R}$) & - \\
\code{predict} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{weight} ($\mathbb{M}_{x, y}$), \code{bias} ($\mathbb{R}$) & \code{predVal} ($\mathbb{R}$) & - \\
\code{gradientW} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{trueVal} ($\mathbb{R}$), \code{weight} ($\mathbb{M}_{x, y}$), \code{bias} ($\mathbb{R}$), \code{regParam} ($\mathbb{R}$), \code{trainSize} ($\mathbb{Z}_{+}$)& \code{gradW} ($\mathbb{R}$) & - \\
\code{gradientB} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{trueVal} ($\mathbb{R}$), \code{weight} ($\mathbb{M}_{x, y}$), \code{bias} ($\mathbb{R}$)& \code{gradB} ($\mathbb{R}$) & - \\
\code{gradientDescent} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{trueVal} ($\mathbb{R}$), \code{weight} ($\mathbb{M}_{x, y}$), \code{bias} ($\mathbb{R}$), \code{regParam} ($\mathbb{R}_{+}$), \code{learnRate} ($\mathbb{R}_{+}$), \code{trainSize} ($\mathbb{Z}_{+}$) & \code{weight} ($\mathbb{M}_{x, y}$), \code{bias} ($\mathbb{R}$) & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None.

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

The input image is valid.

\subsubsection{Access Routine Semantics}

\noindent \code{sigmoid}(sigIn):
\begin{itemize}
\item output: Computes the sigmoid function of \code{sigIn} according to \tref{TM1}
and returns the value \code{sigOut} as $\mathbb{R}$.
\end{itemize}

\noindent \code{logLossFunc}(trueVal, predVal):
\begin{itemize}
\item output: Computes the value of the log loss function using \code{trueVal} and \code{predVal}
according to \tref{TM2} and returns the value \code{logLoss} as $\mathbb{R}$.
\end{itemize}

\noindent \code{predict}(inputImage, weight, bias):
\begin{itemize}
\item output: Calls \code{sigmoid} to calculate the predicted label of the \code{inputImage}
using \code{weight} and \code{bias} from the model according to \gref{GD1}.
\end{itemize}

\noindent \code{gradientW}(inputImage, trueVal, weight, bias, regParam, trainSize):
\begin{itemize}
\item output: Calculates the gradient of the log loss function using all the input variables
with respect to the weights according to according to \gref{GD2}.
\end{itemize}

\noindent \code{gradientB}(inputImage, trueVal, weight, bias):
\begin{itemize}
  \item output: Calculates the gradient of the log loss function using all the input variables
  with respect to the bias according to according to \gref{GD3}.
\end{itemize}

\noindent \code{gradientDescent}(inputImage, trueVal, weight, bias, regParam, learnRate, trainSize):
\begin{itemize}
\item output: Calls \code{gradientW} and \code{gradientB} to
execute the algorithm to update the weights and biases using all the input variables 
for one epoch according to \iref{IM1}.
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of OAR Model Training Module} \label{ModuleOMTr} 

\subsection{Module}

\code{train}

\subsection{Uses}

\begin{itemize}
  \item OAR Model Equations Module Specification \ref{ModuleOME}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{itemize}
  \item \code{LAMBDA}: The regularization parameter used during model training as $\mathbb{R}_{+}$.
  \item \code{ALPHA}: The learning rate parameter used during model training as $\mathbb{R}_{+}$.
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{train} & \code{trainSet} ($\mathbb{M}_{x, y}$),\code{trainVals} ($\mathbb{M}_{x, y}$), \code{weightBiasMatrix} (tuple of $\mathbb{M}_{x, y}$ and $\mathbb{R}$), \code{trainSize} ($\mathbb{Z}_{+}$)& \code{weightBiasMatrix} (tuple of $\mathbb{M}_{x, y}$ and $\mathbb{R}$) & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
\item \code{weight}: the weight portion of the \code{weightBiasMatrix} input as $\mathbb{M}_{x, y}$ for each label.
\item \code{bias}: the bias portion of the \code{weightBiasMatrix} input as $\mathbb{R}$ for each label.
\end{itemize}

\subsubsection{Environment Variables}

None.

\subsubsection{Assumptions}

None.

\subsubsection{Access Routine Semantics}

\noindent \code{train}(trainSet, trainVals, weightBiasMatrix, trainSize):
\begin{itemize}
\item output: Executes the algorithm for training the weights and biases of the model given the
training dataset information and functions from the OAR Model Equations Module (\ref{ModuleOME}), and
returns the updated version of the \code{weightBiasMatrix} as a tuple of $\mathbb{M}_{x, y}$ and $\mathbb{R}$.
\end{itemize}

\subsubsection{Local Functions}

None.

\section{MIS of OAR Model Testing Module} \label{ModuleOMTs} 

\subsection{Module}

\code{test}

\subsection{Uses}

\begin{itemize}
  \item OAR Model Equations Module Specification \ref{ModuleOME}
  \item OAR Model Training Module Specification \ref{ModuleOMTr}
  \item Confusion Matrix Module Specification \ref{ModuleCM}
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{itemize}
\item \code{EPOCHS}: The the number of times the model training regression algorithm is ran as $\mathbb{Z}_{+}$.
\item \code{TRAIN_SIZE}: The size of the training data used during model training as $\mathbb{Z}_{+}$.
\item \code{TEST_SIZE}: The size of the testing data used during model training as $\mathbb{Z}_{+}$.
\item \code{DATA_IMG_SIZE}: The size of the input image matrix used during model training as $\mathbb{I}_{x, y}$.
\item \code{LABELS}: The set of possible labels for the classification model as a tuple of Strings.
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{test} & - & oarModel (tuple of $\mathbb{M}_{x, y}$ and $\mathbb{R}$) & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item \code{dataSet}: The set of pre-processed images and their associated labels that will be used for training the classification model as a tuple of $\mathbb{I}_{x, y}$ and $\mathbb{Z}_{+}$.
  \item \code{weight}: the weight portion of the \code{weightBiasMatrix} input as $\mathbb{M}_{x, y}$ for each label.
  \item \code{bias}: the bias portion of the \code{weightBiasMatrix} input as $\mathbb{R}$ for each label.
  \item \code{prediction}: matrix which tracks the number predictions made for each test image as $\mathbb{M}_{x, y}$.
\end{itemize}

\subsubsection{Environment Variables}

\begin{itemize}
  \item \code{dataSetPath}: the File System path or location as a string pointing to where the data set is located.
\end{itemize}

\subsubsection{Assumptions}

The \code{dataSetPath} is valid, readible and accessible.

\subsubsection{Access Routine Semantics}

\noindent \code{train}():
\begin{itemize}
\item output: The matrix of weights and biases representing the \code{oarModel} as $\mathbb{M}_{x, y}$.
\end{itemize}

\subsubsection{Local Functions}

\begin{itemize}
\item \code{splitDataSet}(dataSet):
  \begin{itemize}
    \item output: Takes the \code{dataSet} as an input and splits it into distinct parts for training and testing the classification model.
    The following values are output:
    \begin{itemize}
      \item \code{trainData}: The part of the \code{dataSet} used to train the model as $\mathbb{M}_{x, y}$.
      \item \code{trainVals}: The part of the \code{dataSet} corresponding to the true labels of the \code{trainData} as $\mathbb{M}_{x, y}$.
      \item \code{testData}: The part of the \code{dataSet} used to test the model as $\mathbb{M}_{x, y}$.
      \item \code{testVals}: The part of the \code{dataSet} corresponding to the true labels of the \code{testData} as $\mathbb{M}_{x, y}$.
    \end{itemize}
  \end{itemize}
\item \code{evalModelData}(oarModel, confusionMatrix):
  \begin{itemize}
    \item output: Evaluates the performance of the \code{oarModel} based on the \code{confusionMatrix}
    and returns the values that should be written to the OAR Model Data Module \ref(ModuleOMD).
  \end{itemize}
\end{itemize}

\section{MIS of Confusion Matrix Module} \label{ModuleCM} 

\subsection{Module}

\code{confMatrix}

\subsection{Uses}

None.

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{confMatrix} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}

\section{MIS of Input Processing Module} \label{ModuleIP} 

\subsection{Module}

\code{preprocess}

\subsection{Uses}

None.

\subsection{Syntax}

\subsubsection{Exported Constants}

None.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}

\section{MIS of Graphical User Interface} \label{ModuleGUI} 

\subsection{Module}

\code{gui} \mref{mGUI}

\subsection{Uses}

\begin{itemize}
  \item Hardware-Hiding Module \mref{mHH}
  \item Input Data Read Module \mref{mIDR}
  \item Output Module \mref{mOU} 
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{itemize}
  \item \code{GUI_BOXSIZE}: A value ($\mathbb{Z}_{+}$) describing both width and height (in pixels) used for the image
  display "box" (currently always a square)
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\code{gui} & \code{inputImage} ($\mathbb{I}_{x, y}$), \code{resultLabel} (String), \code{resultConf} (String) & \code{displayWindow}, event handlers & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item inputImage: The input image as processed and given by \mref{mIDR} as $\mathbb{I}_{x, y}$
  \item resultLabel: The label output as given by \mref{mOU} as a string.
  \item resultConf: The confidence probability output as given by \mref{mOU} as a string.
\end{itemize}

\subsubsection{Environment Variables}

\begin{itemize}
  \item Keyboard ($\mathbb{Z}_{+}$ for keycodes describing the key pressed)
  \item Mouse (Boolean for click state and  $\mathbb{Z}_{+}$ for cursor position)
  \item Screen ($\mathbb{Z}_{+}$ for width and height in pixels)
  \item Button (String for a file location) to provide an input image \mref{mIDR} from the file system
\end{itemize}

\subsubsection{Assumptions}

\begin{itemize}
  \item The file system is able to read and provide the image file as specified by the user through an OS file-open dialog.
  Otherwise if the file is not found, denied access or cancelled, no changes should occur.
  \item The OS is able to provide basic text or number input user controls with some basic built-in validation, and
  is able to handle events from Human Interface Devices (HIDs such as mouse, keyboard or touchscreen).
\end{itemize}


\subsubsection{Access Routine Semantics}

\noindent \code{gui}():
\begin{itemize}
\item transition: Sets up user control event handlers (i.e., mouse clicks or drag, button presses, text input change, ...) 
as needed for the user input. Calls the Input Data Read and Output Modules (\ref{ModuleIDR}, \ref{ModuleO}) to classify the input
image. The input image and output results are then pushed to the \code{displayWindow}.
\end{itemize}

\subsubsection{Local Functions}

None.
  
\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}


\end{document}